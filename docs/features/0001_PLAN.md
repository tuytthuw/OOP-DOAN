# Kế Hoạch Kỹ Thuật #0001 - Xây Dựng Model Khách Hàng (Customer Model)

## 1. Mô Tả Ngữ Cảnh

Tạo lớp `Customer` để đại diện cho khách hàng của spa. Lớp này quản lý thông tin cá nhân, tier membership, lịch sử sử dụng dịch vụ.

---

## 2. Các Tệp và Hàm Liên Quan

### Tệp TẠO MỚI:

- `src/main/java/models/Customer.java` - Lớp chính đại diện cho khách hàng

### Tệp THAY ĐỔI:

- `src/main/java/models/Init.java` - Thêm reference khởi tạo dữ liệu Sample

---

## 3. Thuật Toán / Logic (Từng Bước)

### 3.1 Cấu Trúc Lớp Customer

```
Customer
├── Thuộc tính (Attributes):
│   ├── customerId: String (ID duy nhất, định dạng: CUST_XXXXX)
│   ├── fullName: String (Tên khách hàng)
│   ├── phoneNumber: String (Số điện thoại)
│   ├── email: String (Email)
│   ├── address: String (Địa chỉ)
│   ├── tier: Tier (Loại membership: PLATINUM, GOLD, SILVER, BRONZE)
│   ├── registrationDate: LocalDate (Ngày đăng ký)
│   ├── totalSpent: BigDecimal (Tổng tiền đã chi tiêu)
│   ├── lastVisitDate: LocalDate (Lần cuối sử dụng dịch vụ)
│   └── isActive: boolean (Có hoạt động không)
│
├── Phương Thức (Methods):
│   ├── Constructor(customerId, fullName, phoneNumber, email, address)
│   ├── updateTier(): void (Cập nhật tier dựa trên totalSpent)
│   ├── updateLastVisit(): void (Cập nhật lastVisitDate thành hôm nay)
│   ├── addToTotalSpent(amount): void (Cộng thêm chi tiêu)
│   ├── getCustomerInfo(): String (Trả về thông tin chi tiết)
│   ├── Getter/Setter cho tất cả thuộc tính
│   └── equals() & hashCode() (So sánh dựa trên customerId)
```

### 3.2 Logic Cập Nhật Tier

**Điều kiện Tier dựa trên totalSpent:**

- PLATINUM: totalSpent >= 10,000,000 VND
- GOLD: totalSpent >= 5,000,000 VND
- SILVER: totalSpent >= 1,000,000 VND
- BRONZE: totalSpent < 1,000,000 VND

**Bước thực hiện `updateTier()`:**

1. Kiểm tra totalSpent hiện tại
2. So sánh với các ngưỡng (từ cao xuống thấp)
3. Gán tier phù hợp
4. Trả về tier mới

### 3.3 Các Hằng Số Cần Định Nghĩa

```java
// Ngưỡng tier (VND)
PLATINUM_THRESHOLD = 10,000,000
GOLD_THRESHOLD = 5,000,000
SILVER_THRESHOLD = 1,000,000
```

---

## 4. Ghi Chú Kỹ Thuật

- Sử dụng `LocalDate` từ `java.time` để quản lý ngày tháng
- Sử dụng `BigDecimal` để tính toán tiền tệ chính xác
- ID khách hàng nên được sinh tự động hoặc được cung cấp khi tạo
- Áp dụng OOP: Encapsulation (private attributes + public getters/setters)
- Tuân thủ Google Java Style: `lowerCamelCase` cho tên biến/method, `UpperCamelCase` cho lớp
- Comment bằng tiếng Việt cho Javadoc và logic phức tạp
